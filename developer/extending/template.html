<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developer/extending/template" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Authoring Templates | Mikan Rigging Framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://citrus-software.github.io/mikan-docs/developer/extending/template"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Authoring Templates | Mikan Rigging Framework"><meta data-rh="true" name="description" content="Templates are the fundamental building blocks of a Mikan rig. They define modular components (e.g., an arm, a spine, or a locator) that Mikan assembles to create a complete character."><meta data-rh="true" property="og:description" content="Templates are the fundamental building blocks of a Mikan rig. They define modular components (e.g., an arm, a spine, or a locator) that Mikan assembles to create a complete character."><link data-rh="true" rel="icon" href="/mikan-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://citrus-software.github.io/mikan-docs/developer/extending/template"><link data-rh="true" rel="alternate" href="https://citrus-software.github.io/mikan-docs/developer/extending/template" hreflang="en"><link data-rh="true" rel="alternate" href="https://citrus-software.github.io/mikan-docs/developer/extending/template" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Authoring Templates","item":"https://citrus-software.github.io/mikan-docs/developer/extending/template"}]}</script><link rel="stylesheet" href="/mikan-docs/assets/css/styles.82f71183.css">
<script src="/mikan-docs/assets/js/runtime~main.a765eec4.js" defer="defer"></script>
<script src="/mikan-docs/assets/js/main.3d4ed7e0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/mikan-docs/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mikan-docs/"><div class="navbar__logo"><img src="/mikan-docs/img/logo.svg" alt="Mikan Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/mikan-docs/img/logo.svg" alt="Mikan Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Mikan</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mikan-docs/introduction/about">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/mikan-docs/introduction/about"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/mikan-docs/usage/blueprints"><span title="Usage" class="categoryLinkLabel_W154">Usage</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/mikan-docs/guides/basics"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/mikan-docs/developer/overview"><span title="API" class="categoryLinkLabel_W154">API</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mikan-docs/developer/overview"><span title="Architecture Overview" class="linkLabel_WmDU">Architecture Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/mikan-docs/developer/extending/template"><span title="Extending Mikan" class="categoryLinkLabel_W154">Extending Mikan</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mikan-docs/developer/extending/template"><span title="Authoring Templates" class="linkLabel_WmDU">Authoring Templates</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mikan-docs/developer/extending/mod"><span title="Authoring Modifiers" class="linkLabel_WmDU">Authoring Modifiers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/mikan-docs/developer/extending/deformer"><span title="Authoring Deformers" class="linkLabel_WmDU">Authoring Deformers</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mikan-docs/developer/pipeline"><span title="Pipeline Integration" class="linkLabel_WmDU">Pipeline Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mikan-docs/developer/vendor"><span title="Third-party dependencies and custom patches" class="linkLabel_WmDU">Third-party dependencies and custom patches</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/mikan-docs/references/tpl/core/bones"><span title="Technical References" class="categoryLinkLabel_W154">Technical References</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/mikan-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Extending Mikan</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Authoring Templates</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Authoring Templates</h1></header>
<p>Templates are the fundamental building blocks of a Mikan rig. They define modular components (e.g., an arm, a spine, or a locator) that Mikan assembles to create a complete character.</p>
<p>A Template operates in two distinct phases:</p>
<ol>
<li class=""><strong>The Guide Phase</strong>: A lightweight skeleton hierarchy used by the rigger to place pivots and define the controllers.</li>
<li class=""><strong>The Rig Phase</strong>: The functional animation setup (controls, constraints, deformers) generated during the build process.</li>
</ol>
<p>To create a new template module, you must establish a specific directory structure, define a configuration manifest, and implement the Python logic for your target DCC.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="anatomy-of-a-template">Anatomy of a Template<a href="#anatomy-of-a-template" class="hash-link" aria-label="Direct link to Anatomy of a Template" title="Direct link to Anatomy of a Template" translate="no">​</a></h2>
<p>Before configuring a template, it is crucial to understand its structure within the scene (DCC).</p>
<p>A Template instance is represented as a joint hierarchy identified by a unique <strong>Root Node</strong>. Mikan traverses the full scene hierarchy to identify parent-child relationships between these instances.</p>
<p>Structurally, a Template consists of:</p>
<ul>
<li class=""><strong>The Root</strong>: The top-most joint of the template. It holds all the metadata required by Mikan to identify the module type and its settings.</li>
<li class=""><strong>The Hierarchy</strong>: A chain of child joints defining the structure. Other templates can be parented to any joint in this chain (not just the end).</li>
<li class=""><strong>Guide Shapes</strong>: NURBS curves parented to the joints. These visual cues serve as the blueprint for the shape of the final rig controllers.<!-- -->
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The Template API allows an instance to query its own hierarchy, identifying which joints belong to it versus which joints belong to a child template.</p></div></div>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="connectivity-and-hooks">Connectivity and Hooks<a href="#connectivity-and-hooks" class="hash-link" aria-label="Direct link to Connectivity and Hooks" title="Direct link to Connectivity and Hooks" translate="no">​</a></h3>
<p>A key feature of Mikan is flexible parenting. A child template can be attached to any joint of a parent template.</p>
<p>During the build process, every joint in a template creates a <strong>Hook</strong>. A Hook is an anchor point in the final rig where child modules attach their own rig logic.</p>
<p><strong>Example</strong>: Consider an Arm Template containing a shoulder, elbow, and wrist.</p>
<ol>
<li class="">The Arm hierarchy ends at the wrist joint.</li>
<li class=""><strong>Finger Templates</strong> are parented directly to the Arm&#x27;s wrist joint in the Guide.</li>
<li class="">During the build, the Arm module generates a &quot;Wrist Hook&quot;.</li>
<li class="">The Finger modules automatically find this hook and attach their respective build logic to it.</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="file-structure--registration">File Structure &amp; Registration<a href="#file-structure--registration" class="hash-link" aria-label="Direct link to File Structure &amp; Registration" title="Direct link to File Structure &amp; Registration" translate="no">​</a></h2>
<p>To add a new template module, you simply need to create a directory within the <code>mikan.templates.template</code> package. Mikan automatically scans this path on startup.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="directory-layout">Directory Layout<a href="#directory-layout" class="hash-link" aria-label="Direct link to Directory Layout" title="Direct link to Directory Layout" translate="no">​</a></h3>
<p>The folder name serves as the unique ID of the module. To organize templates into categories (e.g., biped, prop, vehicle), you should place your module folder inside a category folder.</p>
<p><strong>Standard Path</strong>: <code>.../mikan/templates/template/[category]/[module_name]/</code></p>
<p><strong>Required Files</strong>: Inside your module folder, you must provide:</p>
<ul>
<li class=""><code>template.yml</code>: The configuration manifest.</li>
<li class=""><code>[dcc].py</code>: The implementation logic (e.g., <code>maya.py</code>, <code>tangerine.py</code>).</li>
</ul>
<div class="language-plaintext codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plaintext codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">mikan/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">└── templates/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    └── template/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        └── arm/                 &lt;-- Category (appears in UI)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            └── legacy/          &lt;-- Module Name</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                ├── template.yml</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                ├── maya.py</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                └── tangerine.py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="loading-the-module">Loading the Module<a href="#loading-the-module" class="hash-link" aria-label="Direct link to Loading the Module" title="Direct link to Loading the Module" translate="no">​</a></h3>
<p>Once your files are created:</p>
<ul>
<li class="">Restart your DCC or reload the Mikan Core.</li>
<li class="">Open the Template Editor in the UI.</li>
<li class="">Your module will appear in the defined category</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The module name used in code will be derived from the folder names. For the example above, the template ID would be <code>category.name</code>.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-manifest-templateyml">Configuration Manifest (template.yml)<a href="#configuration-manifest-templateyml" class="hash-link" aria-label="Direct link to Configuration Manifest (template.yml)" title="Direct link to Configuration Manifest (template.yml)" translate="no">​</a></h2>
<p>The <code>template.yml</code> file acts as the manifest for your module. It defines how Mikan presents the template in the UI, its default parameters, its inheritance logic, and crucially, how it maps physical joints to logical tags.</p>
<p>Below is a detailed breakdown of the available keys.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="metadata--inheritance">Metadata &amp; Inheritance<a href="#metadata--inheritance" class="hash-link" aria-label="Direct link to Metadata &amp; Inheritance" title="Direct link to Metadata &amp; Inheritance" translate="no">​</a></h3>
<p>Basic information to identify the template in the Mikan ecosystem.</p>
<ul>
<li class=""><strong><code>name</code></strong>: The default ID string for a new instance of this template (e.g., &quot;arm&quot;, &quot;spine&quot;).</li>
<li class=""><strong><code>desc</code></strong>: A short description displayed as a tooltip in the UI.</li>
<li class=""><strong><code>help</code></strong>: A URL pointing to the full documentation for this module.</li>
<li class=""><strong><code>base</code></strong>: Defines inheritance. The Python class for this template will inherit from the specified base class in addition to the standard DCC Template class.<!-- -->
<ul>
<li class=""><em>Example</em>: <code>base: _common.limb</code> (inherits methods from a generic limb module).</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="naming-conventions-names">Naming Conventions (<code>names</code>)<a href="#naming-conventions-names" class="hash-link" aria-label="Direct link to naming-conventions-names" title="Direct link to naming-conventions-names" translate="no">​</a></h3>
<p>The <strong><code>names</code></strong> key is a dictionary that allows you to define default naming suffixes for specific parts of the rig. These are logical keys, not final names. They provide a default value that users can override in the UI if they have specific naming charts.</p>
<ul>
<li class=""><em>Key</em>: The internal ID used in your Python code (e.g., <code>cog</code>, <code>limb1</code>).</li>
<li class=""><em>Value</em>: The default string suffix that will appear in the final node name.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="structure--addressing">Structure &amp; addressing<a href="#structure--addressing" class="hash-link" aria-label="Direct link to Structure &amp; addressing" title="Direct link to Structure &amp; addressing" translate="no">​</a></h3>
<p>The <strong><code>structure</code></strong> key is a dictionary (<code>tag: address</code>) that maps logical names (tags) to specific joints in the Guide skeleton.</p>
<p>Tagging Strategy:</p>
<ul>
<li class=""><strong>Relative Depth</strong>: You define the location based on hierarchy depth relative to the root.<!-- -->
<ul>
<li class=""><code>.</code> : The Template Root joint.</li>
<li class=""><code>/1</code> : The immediate child of the Root.</li>
<li class=""><code>/2</code> : The child of the child, etc.</li>
</ul>
</li>
<li class=""><strong>Explicit Tagging</strong>: If no address is specified, Mikan searches for a joint that was explicitly tagged during the <code>build_template()</code> Python procedure.</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Important Constraint</div><div class="admonitionContent_BuS1"><p>You cannot rely on sibling order (e.g., &quot;the second child of X&quot;). Scene formats like Alembic (<code>.abc</code>) do not guarantee child order preservation. Always use specific branches or explicit tags to ensure correct retrieval.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="parameters-guides-opts">Parameters (<code>guides</code>, <code>opts</code>)<a href="#parameters-guides-opts" class="hash-link" aria-label="Direct link to parameters-guides-opts" title="Direct link to parameters-guides-opts" translate="no">​</a></h3>
<p>Defines the editable attributes exposed in the UI.</p>
<ul>
<li class=""><strong><code>guides</code></strong>: Options affecting the <strong>Guide Phase</strong> (e.g., initial positions, joint counts).</li>
<li class=""><strong><code>opts</code></strong>: Options affecting the <strong>Rig Phase</strong> (e.g., IK/FK, spacer types).</li>
</ul>
<p>Common properties for both:</p>
<ul>
<li class=""><code>value</code>: The default value. Determining the type (int <code>1</code>, float <code>1.0</code>, bool <code>on/off</code>, string).</li>
<li class=""><code>min</code>/<code>max</code>: Range clamps for UI sliders.</li>
<li class=""><code>enum</code>: A list of strings or a dict (<code>int: key</code>) for dropdown menus.</li>
<li class=""><code>help</code>: Tooltip description.</li>
<li class=""><code>yaml</code>: (Boolean) If <code>true</code>, the value is parsed as YAML data (useful for list-type options).</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="controllers-geometry-shapes">Controllers Geometry (<code>shapes</code>)<a href="#controllers-geometry-shapes" class="hash-link" aria-label="Direct link to controllers-geometry-shapes" title="Direct link to controllers-geometry-shapes" translate="no">​</a></h3>
<p>A dictionary (<code>id: dict</code>) defining the default controller shapes. The <code>id</code> must match the controller ID generated during the rig build (e.g., if the build generates <code>arm.L::ctrls.1</code>, use <code>ctrls.1</code>).</p>
<ul>
<li class=""><code>parent</code>: The node that &quot;holds&quot; this shape curve in the Guide. <strong>Must refer to a tag defined in <code>structure</code></strong>.</li>
<li class=""><code>shape</code>: The shape ID from the internal database (<code>mikan.templates.shapes</code>).</li>
<li class=""><code>color</code>: CSS-style color code (e.g., <code>red</code>, <code>#F00</code>, <code>#FF0000</code>).</li>
<li class=""><code>size</code>: Scale multiplier (default: 1).</li>
<li class=""><code>aim</code>/<code>up</code>: Entry point structure for the shape rig (for auto-orientation).</li>
<li class=""><code>up_axis</code>: Axis used for the aim constraint.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="logical-hierarchy-hierarchy">Logical Hierarchy (<code>hierarchy</code>)<a href="#logical-hierarchy-hierarchy" class="hash-link" aria-label="Direct link to logical-hierarchy-hierarchy" title="Direct link to logical-hierarchy-hierarchy" translate="no">​</a></h3>
<p>This is a critical section. It describes the <strong>Virtual Hierarchy</strong> of the rig elements (Controllers and Skin Joints). This abstraction allows Mikan to reconstruct the skeleton logic (pickwalking, export) regardless of the complex physical constraints in the scene.</p>
<p>You typically define two main groups here: one for controllers and one for skin joints.</p>
<p>Key Properties:</p>
<ul>
<li class=""><code>root</code>: (Boolean) Declares if this node is a starting point of the local hierarchy.<!-- -->
<ul>
<li class="">If <code>on</code>: This node will look for the parent template&#x27;s hook to attach itself.</li>
<li class="">If <code>off</code> (by default): This node expects a local <code>parent</code> to be defined.</li>
</ul>
</li>
<li class=""><code>parent</code>: Defines the internal parent within the <em>current</em> template.<!-- -->
<ul>
<li class=""><em>Value</em>: The ID of another node defined in this hierarchy section (e.g., <code>ctrls.limb1</code>).</li>
</ul>
</li>
<li class=""><code>hook</code>: Defines that this Rig Node acts as the anchor for a specific Structural Tag.<!-- -->
<ul>
<li class=""><em>Value</em>: A tag from the <code>structure</code> section.</li>
<li class=""><em>Behavior</em>: If a child template is attached to the tag <code>limb1</code> in the guide, its rig root will be automatically parented to this node (<code>ctrls.limb1</code>) in the final rig.</li>
</ul>
</li>
<li class=""><code>chain</code>: (Boolean) If the ID refers to a list of nodes, <code>chain: on</code> creates a serial hierarchy (0 -&gt; 1 -&gt; 2 -&gt; ...).</li>
<li class=""><code>opts</code>: conditional overrides. A dictionary allowing you to change <code>root</code>, <code>hook</code>, or <code>parent</code> logic based on a rig option (defined in <code>opts</code>).<!-- -->
<ul>
<li class=""><em>Format</em>: <code>option_name: override_dict</code>.</li>
<li class=""><em>Usage</em>: Useful if a boolean option (like <code>do_clavicle</code>) changes the parenting logic.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="interface-ui">Interface (<code>ui</code>)<a href="#interface-ui" class="hash-link" aria-label="Direct link to interface-ui" title="Direct link to interface-ui" translate="no">​</a></h3>
<ul>
<li class=""><code>icon</code>: Filename of the icon for the Mikan Outliner. (see: <code>mikan.core.ui.icons</code>)</li>
<li class=""><code>hooks</code>: Defines valid attachment points for child templates.<!-- -->
<ul>
<li class=""><em>Format</em>: <code>display_name: structure</code>.</li>
<li class="">These appear in the UI when building a new template on top of this one.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-configuration">Example Configuration<a href="#example-configuration" class="hash-link" aria-label="Direct link to Example Configuration" title="Direct link to Example Configuration" translate="no">​</a></h3>
<p>Here is an example for a simplified <strong>Arm</strong> module.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># Example Snippet</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> arm</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">desc</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Basic biped arm</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">base</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> _common.limb</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">names</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">clav</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> clavicle </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># If user leaves default, node becomes &quot;c_clavicle_L&quot; or &quot;sk_clavicle_R&quot;, etc.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">limb1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> shoulder</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">limb2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> elbow</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">limb3</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> wrist</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1. Map physical joints to logical tags</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">structure</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">clavicle</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Abstract tag for clavicle</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">limb1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> .       </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Abstract tag for the shoulder/arm root</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">limb2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> /1      </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1st child</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">limb3</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> /2      </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2nd generation</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2. Options</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">opts</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">do_clavicle</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">help</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Enables the clavicle rig.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">value</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> on    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Boolean option</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 3. Rig Hierarchy Definition</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">hierarchy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># The Clavicle Controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ctrls.clav</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">root</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> on            </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Attaches to the body (parent template)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">hook</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> clavicle      </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Exposes itself as the anchor for anything attached to &#x27;clavicle&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># The Arm/Shoulder Controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ctrls.shoulder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">root</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> on            </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># DEFAULT: Starts a new chain (attached to body)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">hook</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> limb1         </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Exposes itself as anchor for &#x27;limb1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># CONDITION: If the user enabled the &#x27;do_clavicle&#x27; option</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">opts</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">do_clavicle</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">root</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> off       </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># It is no longer a root...</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">parent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ctrls.clav  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ...it becomes a child of the clavicle controller.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 4. UI Exposure</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ui</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">icon</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> limb</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Where can users attach a hand or prop?</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">hooks</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">hand</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> limb3</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">elbow</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> limb2</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Theoretical explanations can sometimes be abstract. The most effective way to master these configurations is to <strong>inspect the <code>template.yml</code> files of existing Mikan modules</strong>.</p><p>Analyzing built-in modules (like <code>legs.legacy</code> or <code>spine.legacy</code>) will give you concrete examples of how <code>hooks</code>, <code>opts</code> overrides, and inheritance are used in production contexts.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="python-implementation--dcc-support">Python Implementation &amp; DCC Support<a href="#python-implementation--dcc-support" class="hash-link" aria-label="Direct link to Python Implementation &amp; DCC Support" title="Direct link to Python Implementation &amp; DCC Support" translate="no">​</a></h2>
<p>Mikan is designed to be DCC-agnostic. While the configuration (<code>template.yml</code>) defines the <em>what</em>, the Python logic defines the <em>how</em>.</p>
<p>To support multiple softwares (Maya, Tangerine, Blender), the geometric construction logic is isolated in specific files. Mikan automatically loads the appropriate file at runtime based on the active environment.</p>
<p><strong>Inheritance Pattern:</strong>
The API enforces a strict contract: method names and purposes remain identical across all platforms.</p>
<ul>
<li class=""><strong>Maya:</strong> <code>class Template(mikan.maya.core.Template):</code></li>
<li class=""><strong>Tangerine:</strong> <code>class Template(mikan.tangerine.core.Template):</code></li>
</ul>
<p>You must override the following three methods to define the module&#x27;s behavior:</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The examples below use Maya syntax (<code>mx</code>, <code>cmds</code>), but the logic applies equally to Tangerine or Blender APIs.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-guide-phase-build_template">The Guide Phase: <code>build_template()</code><a href="#the-guide-phase-build_template" class="hash-link" aria-label="Direct link to the-guide-phase-build_template" title="Direct link to the-guide-phase-build_template" translate="no">​</a></h3>
<p>Called when the user instantiates the module. Your goal is to build the visual skeleton used by the rigger to place pivots and define the volume.</p>
<ul>
<li class=""><strong>Responsibility:</strong> Create joints/locators and position them.</li>
<li class=""><strong>Crucial Step:</strong> Use <code>self.set_template_id(node, &#x27;tag&#x27;)</code> to link the physical node to a logical tag defined in your YAML <code>structure</code>.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">build_template</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    root </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">node  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># The root node provided by Mikan</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1. Create Nodes (DCC Specific)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">with</span><span class="token plain"> mx</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">DagModifier</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">as</span><span class="token plain"> md</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Create a joint under the root</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        hips </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> md</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">create_node</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">mx</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">tJoint</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> parent</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">root</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2. Set Default Position</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    hips</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;ty&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 3. TAGGING (Universal API)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Maps this specific node to the &#x27;hips&#x27; tag defined in template.yml</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">set_template_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">hips</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;hips&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dynamic-renaming-rename_template">Dynamic Renaming: <code>rename_template()</code><a href="#dynamic-renaming-rename_template" class="hash-link" aria-label="Direct link to dynamic-renaming-rename_template" title="Direct link to dynamic-renaming-rename_template" translate="no">​</a></h3>
<p>Called when the user renames the module in the UI. You must update the names of the physical objects in the scene to match the new ID.</p>
<ul>
<li class=""><strong>Helper:</strong> Use <code>self.get_structure(&#x27;tag&#x27;)</code> to retrieve nodes. <strong>Never rely on string names</strong>, as they may have changed or contain prefixes.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">rename_template</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Iterate over tags defined in your structure</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> tag </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;hips&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;spine1&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;spine2&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;tip&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Get the actual node object(s) associated with the tag</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        nodes </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">get_structure</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> nodes</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Generate the new name using Mikan&#x27;s naming engine</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            new_name </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">get_name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">tag</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Apply rename (DCC specific)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            nodes</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">rename</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;tpl_&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> new_name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-rig-phase-build_rig">The Rig Phase: <code>build_rig()</code><a href="#the-rig-phase-build_rig" class="hash-link" aria-label="Direct link to the-rig-phase-build_rig" title="Direct link to the-rig-phase-build_rig" translate="no">​</a></h3>
<p>The main execution logic called during the global build. This method reads the guide, processes options, creates the rig components (controls, constraints), and registers the output.</p>
<p>This process consists of 4 key steps:</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-fetching-data">1. Fetching Data<a href="#1-fetching-data" class="hash-link" aria-label="Direct link to 1. Fetching Data" title="Direct link to 1. Fetching Data" translate="no">​</a></h4>
<p>Retrieve guide positions and user options before building.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">build_rig</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1. Get the Parent Hook (The node where this module attaches)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    hook_node </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">hook</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2. Get Guide Nodes (From the Guide Phase)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Returns a list of nodes. We usually take the first one [0].</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tpl_hips </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">get_structure</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;hips&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 3. Get User Options (Defined in YAML &#x27;opts&#x27;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Mikan handles type conversion (bool, float, int) automatically.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    use_stretch </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">get_opt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;stretch&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-the-naming-engine">2. The Naming Engine<a href="#2-the-naming-engine" class="hash-link" aria-label="Direct link to 2. The Naming Engine" title="Direct link to 2. The Naming Engine" translate="no">​</a></h4>
<p>Mikan uses a modular naming strategy. You manually construct the final string by assembling a <strong>Prefix</strong>, a <strong>Side</strong> (node type), a <strong>Core Name</strong> (from config), and a <strong>Suffix</strong> (side/index).</p>
<ul>
<li class=""><strong>The Suffix</strong> (<code>get_branch_suffix</code>) Returns the current topological identifier (e.g., <code>_L</code>, <code>_R</code>, <code>_01</code>). Call this once at the start of your build.</li>
<li class=""><strong>The Core Name</strong> (<code>get_name</code>) Resolves a logical token (e.g., <code>cog</code>) against the YAML <code>names</code> registry and any UI overrides.</li>
<li class=""><strong>Assembly</strong> Concatenate these elements to create the final name.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">def</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">build_rig</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ... </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1. Get Suffix (Location)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    n_end </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">get_branch_suffix</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># e.g. &quot;_L&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2. Get Core Names (Semantic)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    n_cog </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">get_name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;cog&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># e.g. &quot;spine_cog&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 3. Assemble: Prefix + Core + Suffix</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Root (Technical Parent)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    root_cog </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> mx</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">create_node</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">mx</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">tJoint</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> parent</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">hook</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;root_&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> n_cog </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> n_end</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Controller (Animatable)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    c_cog </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> mx</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">create_node</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">mx</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">tJoint</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> parent</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">root_cog</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;c_&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> n_cog </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> n_end</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Skin Joint (Bind)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    j_cog </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> mx</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">create_node</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">mx</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">tJoint</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> parent</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">c_cog</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;j_&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> n_cog </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> n_end</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<p><strong>Standard Prefixes:</strong></p>
<ul>
<li class=""><code>root_</code>: Zero group / Offset buffer</li>
<li class=""><code>c_</code>: Controller</li>
<li class=""><code>sk_</code>: Skinning joint</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-construction">3. Construction<a href="#3-construction" class="hash-link" aria-label="Direct link to 3. Construction" title="Direct link to 3. Construction" translate="no">​</a></h4>
<p>Use the DCC-specific API or Mikan Helpers (see below) to build your kinematic logic (IK handles, constraints, connections).</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-registration-the-binding">4. Registration (The &quot;Binding&quot;)<a href="#4-registration-the-binding" class="hash-link" aria-label="Direct link to 4. Registration (The &quot;Binding&quot;)" title="Direct link to 4. Registration (The &quot;Binding&quot;)" translate="no">​</a></h4>
<p>Once the nodes are built, you must register them. This step connects your Python objects to the <code>hierarchy</code> IDs in the YAML.</p>
<ul>
<li class=""><code>set_id(node, &#x27;id&#x27;)</code>: Maps a rig object to a hierarchy ID (e.g., <code>ctrls.cog</code>).</li>
<li class=""><code>set_hook(guide_node, rig_node, &#x27;hook_id&#x27;)</code>: Defines an attachment point for future child templates. (e.g., <code>hooks.pelvis</code>)</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># --- Registration ---</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 1. Register Control</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Mikan will look at YAML &#x27;shapes&#x27;, find &#x27;ctrls.cog&#x27;, and draw the curve on &#x27;c_cog&#x27;.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">set_id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">c_cog</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;ctrls.cog&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># 2. Register Hook</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># &quot;If a child module attaches to the &#x27;pelvis&#x27; hook, parent it to the &#x27;s_pelvis&#x27; node.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    self</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">set_hook</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">tpl_hips</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> s_pelvis</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&#x27;hooks.pelvis&#x27;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Automatic Shapes</div><div class="admonitionContent_BuS1"><p>Do not write code to create controller curves. Mikan automatically draws shapes <em>after</em> <code>build_rig</code> finishes, based on the nodes you register here using <code>set_id</code>.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="api-reference-template-methods">API Reference: <code>Template</code> Methods<a href="#api-reference-template-methods" class="hash-link" aria-label="Direct link to api-reference-template-methods" title="Direct link to api-reference-template-methods" translate="no">​</a></h2>
<p>Summary of the essential methods available within your <code>Template</code> class.</p>
<table><thead><tr><th>Category</th><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><strong>Data Access</strong></td><td><code>get_structure(tag)</code></td><td>Returns list of Guide nodes linked to the tag.</td></tr><tr><td></td><td><code>get_opt(key)</code></td><td>Returns value of a Rig Option (YAML <code>opts</code>).</td></tr><tr><td><strong>Naming</strong></td><td><code>get_name(token)</code></td><td>Generates full name string (Module + Side + Token).</td></tr><tr><td></td><td><code>get_branch_suffix()</code></td><td>Returns current suffix (e.g., <code>_L</code>, <code>_01</code>).</td></tr><tr><td></td><td><code>get_side()</code></td><td>Returns side string (<code>L</code>, <code>R</code>, <code>C</code>).</td></tr><tr><td><strong>Registration</strong></td><td><code>set_template_id(node, tag)</code></td><td><strong>(Guide Phase)</strong> Links physical node to YAML structure.</td></tr><tr><td></td><td><code>set_id(node, id)</code></td><td><strong>(Rig Phase)</strong> Maps rig node to YAML hierarchy ID.</td></tr><tr><td></td><td><code>set_hook(guide, rig, id)</code></td><td><strong>(Rig Phase)</strong> Registers attachment point for children.</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="helpers--libraries">Helpers &amp; Libraries<a href="#helpers--libraries" class="hash-link" aria-label="Direct link to Helpers &amp; Libraries" title="Direct link to Helpers &amp; Libraries" translate="no">​</a></h2>
<p>To ensure consistency and speed up development, prioritize using Mikan&#x27;s internal libraries over standard DCC commands.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="maya-cmdx-mikanmayacmdx">Maya cmdx (<code>mikan.maya.cmdx</code>)<a href="#maya-cmdx-mikanmayacmdx" class="hash-link" aria-label="Direct link to maya-cmdx-mikanmayacmdx" title="Direct link to maya-cmdx-mikanmayacmdx" translate="no">​</a></h3>
<p>Aliased as <code>mx</code>, this wrapper speeds up drastically the DAG manipulation.</p>
<ul>
<li class=""><code>mx.DagModifier()</code>: Context manager for clean node creation.</li>
<li class=""><code>node[&#x27;ty&#x27;] = 5</code>: Direct attribute access.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rigging-helpers-mikanmayalibrig">Rigging Helpers (<code>mikan.maya.lib.rig</code>)<a href="#rigging-helpers-mikanmayalibrig" class="hash-link" aria-label="Direct link to rigging-helpers-mikanmayalibrig" title="Direct link to rigging-helpers-mikanmayalibrig" translate="no">​</a></h3>
<p>Contains high-level rigging logic to avoid boilerplate code.</p>
<ul>
<li class=""><code>copy_transform(src, dst)</code>: Snaps position/rotation/scale.</li>
<li class=""><code>orient_joint(joint, aim, up)</code>: Robust joint orientation.</li>
<li class=""><code>create_joints_on_curve(curve, count)</code>: Generates chains along NURBS.</li>
<li class=""><code>stretch_spline_ik(...)</code>: One-line setup for stretchy spline IKs.</li>
<li class=""><code>fix_inverse_scale(chain)</code>: Automatically handles segment scale compensation.</li>
<li class="">...</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="complete-example">Complete Example<a href="#complete-example" class="hash-link" aria-label="Direct link to Complete Example" title="Direct link to Complete Example" translate="no">​</a></h2>
<blockquote>
<p>TODO: Add a comprehensive example of a template implementation.</p>
</blockquote></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/mikan-docs/developer/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Architecture Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mikan-docs/developer/extending/mod"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Authoring Modifiers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#anatomy-of-a-template" class="table-of-contents__link toc-highlight">Anatomy of a Template</a><ul><li><a href="#connectivity-and-hooks" class="table-of-contents__link toc-highlight">Connectivity and Hooks</a></li></ul></li><li><a href="#file-structure--registration" class="table-of-contents__link toc-highlight">File Structure &amp; Registration</a><ul><li><a href="#directory-layout" class="table-of-contents__link toc-highlight">Directory Layout</a></li><li><a href="#loading-the-module" class="table-of-contents__link toc-highlight">Loading the Module</a></li></ul></li><li><a href="#configuration-manifest-templateyml" class="table-of-contents__link toc-highlight">Configuration Manifest (template.yml)</a><ul><li><a href="#metadata--inheritance" class="table-of-contents__link toc-highlight">Metadata &amp; Inheritance</a></li><li><a href="#naming-conventions-names" class="table-of-contents__link toc-highlight">Naming Conventions (<code>names</code>)</a></li><li><a href="#structure--addressing" class="table-of-contents__link toc-highlight">Structure &amp; addressing</a></li><li><a href="#parameters-guides-opts" class="table-of-contents__link toc-highlight">Parameters (<code>guides</code>, <code>opts</code>)</a></li><li><a href="#controllers-geometry-shapes" class="table-of-contents__link toc-highlight">Controllers Geometry (<code>shapes</code>)</a></li><li><a href="#logical-hierarchy-hierarchy" class="table-of-contents__link toc-highlight">Logical Hierarchy (<code>hierarchy</code>)</a></li><li><a href="#interface-ui" class="table-of-contents__link toc-highlight">Interface (<code>ui</code>)</a></li><li><a href="#example-configuration" class="table-of-contents__link toc-highlight">Example Configuration</a></li></ul></li><li><a href="#python-implementation--dcc-support" class="table-of-contents__link toc-highlight">Python Implementation &amp; DCC Support</a><ul><li><a href="#the-guide-phase-build_template" class="table-of-contents__link toc-highlight">The Guide Phase: <code>build_template()</code></a></li><li><a href="#dynamic-renaming-rename_template" class="table-of-contents__link toc-highlight">Dynamic Renaming: <code>rename_template()</code></a></li><li><a href="#the-rig-phase-build_rig" class="table-of-contents__link toc-highlight">The Rig Phase: <code>build_rig()</code></a></li></ul></li><li><a href="#api-reference-template-methods" class="table-of-contents__link toc-highlight">API Reference: <code>Template</code> Methods</a></li><li><a href="#helpers--libraries" class="table-of-contents__link toc-highlight">Helpers &amp; Libraries</a><ul><li><a href="#maya-cmdx-mikanmayacmdx" class="table-of-contents__link toc-highlight">Maya cmdx (<code>mikan.maya.cmdx</code>)</a></li><li><a href="#rigging-helpers-mikanmayalibrig" class="table-of-contents__link toc-highlight">Rigging Helpers (<code>mikan.maya.lib.rig</code>)</a></li></ul></li><li><a href="#complete-example" class="table-of-contents__link toc-highlight">Complete Example</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mikan-docs/introduction/about">About</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rebrand.ly/mikan-rig-discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/citrus-software/mikan" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 TeamTO Technology. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>