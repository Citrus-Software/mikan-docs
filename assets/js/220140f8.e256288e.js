"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[5680],{19004:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/backup-3aab92c4c9f10c1339d96e41e1f01180.png"},28453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>d});var s=n(96540);const t={},r=s.createContext(t);function a(e){const i=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:i},e.children)}},31702:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/visFingers-920b68f1909f38a70cc822bdb608594d.png"},37803:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/gem_var-866a70e7ca0e01574df1ac209b03fe81.png"},38767:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/add_helper_asset-7767d688b0983233720a0605e7ce822f.png"},40431:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/dfm_all-93431535c7c9b057eca0299e105708f1.png"},47907:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/build_rig-bfacf2a5a269dbabcc7451c88a375353.png"},48948:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/select_joints-2d3b468f27808bea64361a83be43207d.png"},53361:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/note_fingers-170b66d04782ef9e9d3570a0a5475556.png"},75105:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/shear_attr-3baf528105887e3d90705beb61979c9c.png"},79014:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>d,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"guides/biped/binding-modifiers","title":"Binding and Modifiers","description":"Rig Building and Binding","source":"@site/docs/guides/02-biped/02-binding-modifiers.md","sourceDirName":"guides/02-biped","slug":"/guides/biped/binding-modifiers","permalink":"/mikan-docs/guides/biped/binding-modifiers","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Creation and Placement","permalink":"/mikan-docs/guides/biped/creation-placement"},"next":{"title":"Using Branches","permalink":"/mikan-docs/guides/branches/"}}');var t=n(74848),r=n(28453);const a={},d="Binding and Modifiers",o={},l=[{value:"Rig Building and Binding",id:"rig-building-and-binding",level:2},{value:"Binding",id:"binding",level:3},{value:"Saving Binding Information",id:"saving-binding-information",level:3},{value:"Rig Customization with Modifiers",id:"rig-customization-with-modifiers",level:2},{value:"Example 1: Finger Visibility",id:"example-1-finger-visibility",level:3},{value:"Example 2: Adjusting Arm Shear Attributes",id:"example-2-adjusting-arm-shear-attributes",level:3}];function h(e){const i={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"binding-and-modifiers",children:"Binding and Modifiers"})}),"\n",(0,t.jsx)(i.h2,{id:"rig-building-and-binding",children:"Rig Building and Binding"}),"\n",(0,t.jsx)(i.h3,{id:"binding",children:"Binding"}),"\n",(0,t.jsxs)(i.p,{children:["After building our template hierarchy, let's move on to constructing the rig and binding the character.",(0,t.jsx)(i.br,{}),"\n","Before binding your character, make sure the rig is built.",(0,t.jsx)(i.br,{}),"\n","To do this, simply click on the ",(0,t.jsx)(i.strong,{children:"rocket"})," icon."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"build rig",src:n(47907).A+"",width:"400",height:"109"})}),"\n",(0,t.jsxs)(i.p,{children:["The binding is then done in Maya as usual: select the influence joints and your mesh.",(0,t.jsx)(i.br,{}),"\n","Mikan makes it easier to select skin joints: right-click on the template and choose:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Select Joints"}),": to select only the joints of the chosen module,"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Select Joints Hierarchy"}),": to select the joints of the module as well as those of its child modules."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"select joints",src:n(48948).A+"",width:"300",height:"380"})}),"\n",(0,t.jsx)(i.p,{children:"Then you can bind the mesh as usual."}),"\n",(0,t.jsx)(i.h3,{id:"saving-binding-information",children:"Saving Binding Information"}),"\n",(0,t.jsxs)(i.p,{children:["Once you're satisfied with the skinning, save it and parent it under the template group.",(0,t.jsx)(i.br,{}),"\n","To save your binding, go to the ",(0,t.jsx)(i.strong,{children:"Deformers"})," tab in Mikan and click on ",(0,t.jsx)(i.strong,{children:"Create Backup Group"}),".",(0,t.jsx)(i.br,{}),"\n","This will create a transform node ",(0,t.jsx)(i.strong,{children:"dfm_geo"})," (if the top node of your modeling hierarchy is named ",(0,t.jsx)(i.strong,{children:"geo"}),") containing all deformation data."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"create backup group",src:n(19004).A+"",width:"300",height:"139"})}),"\n",(0,t.jsxs)(i.p,{children:["Then parent this node under your template hierarchy, usually under a ",(0,t.jsx)(i.strong,{children:"helper"})," node created just below the top ",(0,t.jsx)(i.strong,{children:"Asset"})," node, named ",(0,t.jsx)(i.strong,{children:"dfm_all"}),"."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"helper asset",src:n(38767).A+"",width:"381",height:"182"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"dfm all",src:n(40431).A+"",width:"395",height:"209"})}),"\n",(0,t.jsxs)(i.p,{children:["This way, the skinCluster data is preserved and won't be lost during a future rebuild, only the nodes placed under the ",(0,t.jsx)(i.strong,{children:"template group"})," are kept between builds."]}),"\n",(0,t.jsx)(i.h2,{id:"rig-customization-with-modifiers",children:"Rig Customization with Modifiers"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Modifiers"})," allow you to customize your template beyond the base hierarchy by injecting actions during the build, similar to procedural rigging.",(0,t.jsx)(i.br,{}),"\n","They are executed after the rig is built and let you adjust or extend the result.",(0,t.jsx)(i.br,{}),"\n","You can add constraints, driven keys, re-parenting, visibility setups, any kind of logic you want on top of your rig."]}),"\n",(0,t.jsx)(i.h3,{id:"example-1-finger-visibility",children:"Example 1: Finger Visibility"}),"\n",(0,t.jsx)(i.p,{children:"In this example, we'll add a modifier to create a right-click menu for animators to switch the visibility of the finger controls."}),"\n",(0,t.jsx)(i.admonition,{type:"tip",children:(0,t.jsxs)(i.p,{children:["Build the rig beforehand, as you'll then have access to the ",(0,t.jsx)(i.strong,{children:"IDs"})," of the rig elements selected in Mikan's ",(0,t.jsx)(i.strong,{children:"Edit"})," tab. This makes writing modifier notes much easier."]})}),"\n",(0,t.jsxs)(i.p,{children:["You can also refer to the ",(0,t.jsx)(i.a,{href:"https://citrus-software.github.io/mikan-docs/",children:"Mikan documentation"}),"."]}),"\n",(0,t.jsx)(i.p,{children:"To add the modifier:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Right-click on the ",(0,t.jsx)(i.strong,{children:"fingers"})," group,"]}),"\n",(0,t.jsxs)(i.li,{children:["Choose ",(0,t.jsx)(i.strong,{children:"Add Helper Node"})," to create a node where we'll write the modifier note."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Since we're working with a mirrored fork template, you only need to write the note on the left side. Mikan will handle the right side automatically."}),"\n",(0,t.jsx)(i.p,{children:"Once the helper node is created and named:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Right-click on it,"}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Add Modifier > Group"}),"."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Mikan then adds a sample note that you just need to adapt. Here, we'll edit it to create the menu on the hand control and make it toggle the visibility of the finger controls."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"modifier group",src:n(94146).A+"",width:"397",height:"357"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yml",children:"[mod]\n# vis fingers --------------\ngroup:\n  nodes:\n    - fingers.L:::ctrls\n  tag: vis.fingers\n  name: fingers\n"})}),"\n",(0,t.jsx)(i.p,{children:"Result once the note is written:"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"note group",src:n(53361).A+"",width:"394",height:"323"})}),"\n",(0,t.jsx)(i.p,{children:"If you rebuild your rig, you will now see a visibility switch menu for the fingers controllers by right-clicking on the hand IK control."}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"fingers vis",src:n(31702).A+"",width:"327",height:"463"})}),"\n",(0,t.jsx)(i.h3,{id:"example-2-adjusting-arm-shear-attributes",children:"Example 2: Adjusting Arm Shear Attributes"}),"\n",(0,t.jsxs)(i.p,{children:["If you explore the member attributes in a Mikan rig, you'll find ",(0,t.jsx)(i.strong,{children:"shear"})," attributes exposed in the IK controller's shape of the arm.",(0,t.jsx)(i.br,{}),"\n","These attributes allow you to cleverly adjust the silhouette of bends and compensate for volume loss."]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"attributs Shear",src:n(75105).A+"",width:"800",height:"435"})}),"\n",(0,t.jsxs)(i.p,{children:["By default, there's noticeable volume loss around the elbow (shear values are 0).",(0,t.jsx)(i.br,{}),"\n","We'll fix this in the template by creating a modifier that gives us a cleaner bend and better volume preservation."]}),"\n",(0,t.jsx)(i.p,{children:"Procedure:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Select the ",(0,t.jsx)(i.strong,{children:"arm"})," template,"]}),"\n",(0,t.jsxs)(i.li,{children:["Right-click > ",(0,t.jsx)(i.strong,{children:"Add Helper Node"}),","]}),"\n",(0,t.jsxs)(i.li,{children:["Then add a ",(0,t.jsx)(i.strong,{children:"plug"})," modifier, which will allow us to define shear values when the rig is built."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"sample plug",src:n(94697).A+"",width:"400",height:"383"})}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-yml",children:"[mod]\n# -- arm settings\nplug:\n node: arm.L::weights.0\n\n shear_up_base_0: {set: $shear_up_base_0}\n shear_up_tip_3: {set: $shear_up_tip_3}\n shear_dn_base_0: {set: $shear_dn_base_0}\n shear_dn_tip_3: {set: $shear_dn_tip_3}\n"})}),"\n",(0,t.jsxs)(i.p,{children:["As you can see in this note, I'm introducing ",(0,t.jsx)(i.strong,{children:(0,t.jsx)(i.code,{children:"gem"})})," variables (e.g. ",(0,t.jsx)(i.code,{children:"$shear_up_base_0"}),").",(0,t.jsx)(i.br,{}),"\n","These are custom attributes created directly on the Helper node where the modifier note is written."]}),"\n",(0,t.jsx)(i.admonition,{type:"warning",children:(0,t.jsxs)(i.p,{children:["To be recognized by Mikan, they must be prefixed with ",(0,t.jsx)(i.strong,{children:"gem_var"}),"."]})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"gem var",src:n(37803).A+"",width:"600",height:"419"})}),"\n",(0,t.jsx)(i.admonition,{type:"tip",children:(0,t.jsxs)(i.p,{children:["Instead of manually creating the attributes on the Helper node, just build the rig.",(0,t.jsx)(i.br,{}),"\n","Mikan will automatically create the attributes, and you'll only need to set their values."]})}),"\n",(0,t.jsxs)(i.p,{children:["Once your custom attributes are edited, you can rebuild the rig.",(0,t.jsx)(i.br,{}),"\n","The shear values will then be correctly updated in the final rig."]}),"\n",(0,t.jsx)(i.p,{children:"Thanks to modifiers, you can customize every aspect of your rig template."}),"\n",(0,t.jsx)(i.p,{children:"You now know how to set up a simple biped rig and start adapting it to your needs. Your turn!"})]})}function c(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},94146:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/modifier_group-3cf93b7045be52f0dc31571a1030814f.png"},94697:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/images/sample_plug-94aa6952df03ae0ec16707003ed3a9e5.png"}}]);